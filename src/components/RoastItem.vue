<!-- components/RoastItem.vue -->
<template>
  <div class="p-4 my-2 border rounded shadow-sm">
    <RouterLink :to="`/roast/${roast.id}`"> <!-- ä½¿ç”¨ RouterLink ä¾†å¯¦ç¾è·¯ç”±è·³è½‰ -->
      <p class="text-lg">{{ roast.text }}</p>
    </RouterLink>
    <div class="flex gap-4 mt-2">
      <button @click="likeRoast" class="text-green-600">ğŸ‘ {{ roast.likes }}</button>
      <button @click="dislikeRoast" class="text-red-600">ğŸ‘ {{ roast.dislikes }}</button>
    </div>
  </div>
</template>

<script setup>
import { useRoastStore } from '@/store/roastStore';  // å¼•å…¥ Pinia store

const props = defineProps({
  roast: Object
});

const roastStore = useRoastStore();  // ä½¿ç”¨ store

const likeRoast = () => {
  roastStore.likeRoast(props.roast.id);  // ä½¿ç”¨ props ä¸­çš„ `roast`
};

const dislikeRoast = () => {
  roastStore.dislikeRoast(props.roast.id);  // ä½¿ç”¨ props ä¸­çš„ `roast`
};
</script>
